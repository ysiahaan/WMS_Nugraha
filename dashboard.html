<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title>Dashboard</title>

    <link href="asset/all.min.css" rel="stylesheet" type="text/css" />
    <link href="asset/css/style.css" rel="stylesheet" type="text/css" />
    <link href="asset/css/flatpickr.min.css" rel="stylesheet" />
    <link href="asset/css/nunito.css" rel="stylesheet" />
    <link href="asset/css/bootstrap-select.min.css" rel="stylesheet" />
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    />

    <link
      rel="stylesheet"
      href="./asset/@sweetalert2/theme-material-ui/material-ui.css"
    />
    <script src="./asset/sweetalert2/dist/sweetalert2.all.js"></script>

    <!-- Custom styles for this template-->
    <link href="asset/sb-admin-2.min.css" rel="stylesheet" />
    <script src="asset/jquery.min.js"></script>
    <script src="asset/jquery.easing.min.js"></script>
    <script src="asset/bootstrap.bundle.min.js"></script>
    <script src="asset/sb-admin-2.min.js"></script>
    <script src="asset/moment.js"></script>
    <script src="asset/custom.js"></script>
    <script src="asset/bootstrap-select.min.js"></script>
    <script src="asset/flatpickr.js"></script>
    <script src="asset/tempus-dominus.js"></script>

    <script src="./API.js" type="text/javascript" charset="utf-8"></script>
    <script type="text/javascript" charset="utf-8" src="cordova.js"></script>

    <script type="text/javascript" charset="utf-8">
      var dictData = [];
      var sendUrl = "" + sendUrl;
      document.addEventListener("deviceready", onDeviceReady, false);

      function onDeviceReady() {
        document.getElementById("namaUser").innerHTML = user;
      }

      function exeRefiller() {
        location.href = "ref_inputLocationLepasan.html" + sendUrl;
      }
      function exeRefillerNew() {
        location.href = "refNew_getBarang.html" + sendUrl;
      }
      function exePicking() {
        location.href = "picking_scanSO.html" + sendUrl;
      }
      function exeSalesOrder() {
        location.href = "salesOrder_1.html" + sendUrl;
      }
      function exePacking() {
        location.href = "packing_scanSO.html" + sendUrl;
      }
      function exePurchasing() {
        location.href = "PO_daftarList.html" + sendUrl;
      }
      function exeToped() {
        location.href = "tokped_inputData.html" + sendUrl;
      }
      function exeInbound() {
        location.href = "Inbound_daftarInbound.html" + sendUrl;
      }
      function exeInboundSJ() {
        location.href = "InboundSJ_list.html" + sendUrl;
      }
      function exeStokOpname() {
        location.href =
          "SO_scanLokasiKarton.html?namalogin=" +
          user +
          "&satuan=1&namasatuan=1" +
          "&level=" +
          level;
      }
      function exeCallCycleCount() {
        location.href = "callCC.html" + sendUrl;
      }

      function exeLogout() {
        if (confirm("Confirm Logout")) {
          location.href = "index.html";
        } else {
          return false;
        }
      }
      function exeStokOpnameL() {
        location.href =
          "SO_scanLokasiKarton.html?namalogin=" +
          user +
          "&satuan=0&namasatuan=0" +
          "&level=" +
          level;
      }
      function exeBarangBaru() {
        location.href = "inputBarangNew.html" + sendUrl;
      }
      function exePindahLokasi() {
        location.href = "pindahLokasi.html" + sendUrl;
      }
      function exePindahLokasiKarton() {
        location.href = "pindahLokasiKarton.html" + sendUrl;
      }
      function exeDelivery() {
        location.href = "delivery.html" + sendUrl;
      }
      function exePindahLokasiJumlah() {
        location.href = "pindahLokasiPerJumlah.html" + sendUrl;
      }
      function exePenerimaanBarang() {
        location.href = "penerimaan_home.html" + sendUrl;
      }
      function exeDeliveryNew() {
        location.href = "deliveryNew_home.html" + sendUrl;
      }
      function exeAdmin() {
        location.href = "admin.html" + sendUrl;
      }
      function exeEditSo() {
        location.href = "editSo_scan.html" + sendUrl;
      }
      function exeStokLokasi() {
        location.href = "stokLokasi.html" + sendUrl;
      }
      function exeCallRefiller() {
        location.href = "callReffiler.html" + sendUrl;
      }
    </script>
  </head>

  <body id="page-top">
    <div
      style="
        width: 100%;
        display: flex;
        background-image: linear-gradient(
          to right,
          rgb(34, 151, 238),
          rgb(66, 215, 81)
        );
        padding: 16px 14px;
        box-shadow: 0px 0px 10px 0px rgb(188, 188, 188);
        align-items: center;
      "
    >
      <div style="width: 100%; display: flex; align-items: center; gap: 12px">
        <i
          class="fas fa-user fa-sm fa-fw m-2 text-white"
          style="font-size: 25px"
        ></i>
        <div>
          <h5 style="line-height: 20px; color: white">DASHBOARD IGN</h5>
          <h6 style="line-height: 0px; color: white">
            Welcome <a id="namaUser"></a>
          </h6>
        </div>
      </div>
      <a onclick="exeLogout()"
        ><i
          class="fas fa fa-sign-out fa-sm fa-fw m-2 text-white"
          style="font-size: 28px"
        ></i
      ></a>
    </div>

    <div
      style="
        display: grid;
        grid-template-columns: 50% 50%;
        /* gap: 20px; */
        /* padding: 30px 24px; */
        text-align: center;
        margin: auto;
      "
      class="mt-2"
    >
      <a class="nav-link" onclick="exePicking()" id="picking" hidden>
        <div
          style="
            padding: 20px;
            box-shadow: 2px 6px 10px 2px rgb(215, 215, 215);
            border-radius: 8px;
          "
        >
          <img
            src="img/pallete.png"
            alt="Animated GIF"
            class="gif"
            loop="false"
          />
          <!-- <i
            class="fas fa-boxes mb-2"
            style="font-size: 35px; color: black"
          ></i> -->
          <div style="color: black">Picking</div>
        </div>
      </a>
      <a class="nav-link" onclick="exePacking()" id="packing" hidden>
        <div
          style="
            padding: 20px;
            box-shadow: 2px 6px 10px 2px rgb(215, 215, 215);
            border-radius: 8px;
          "
        >
          <img
            src="img/package.png"
            alt="Animated GIF"
            class="gif"
            id="nonLoopingGif"
          />
          <!-- <i class="fas fa-box mb-2" style="font-size: 35px; color: black"></i> -->
          <div style="color: black">Packing</div>
        </div>
      </a>

      <a class="nav-link" onclick="exeRefiller()" id="reffiler" hidden>
        <div
          style="
            padding: 20px;
            box-shadow: 2px 6px 10px 2px rgb(215, 215, 215);
            border-radius: 8px;
          "
        >
          <img
            src="img/trolley.png"
            alt="Animated GIF"
            class="gif"
            id="nonLoopingGif"
          />
          <!-- <i
            class="fas fas fa-dolly mb-2"
            style="font-size: 35px; color: black"
          ></i> -->
          <div style="color: black">Reffiler</div>
        </div>
      </a>
      <a class="nav-link" onclick="exeRefillerNew()" id="reffilerNew" hidden>
        <div
          style="
            padding: 20px;
            box-shadow: 2px 6px 10px 2px rgb(215, 215, 215);
            border-radius: 8px;
          "
        >
          <img
            src="img/trolley.png"
            alt="Animated GIF"
            class="gif"
            id="nonLoopingGif"
          />
          <!-- <i
            class="fas fas fa-dolly mb-2"
            style="font-size: 35px; color: black"
          ></i> -->
          <div style="color: black">Reffiler New</div>
        </div>
      </a>

      <!-- ================================================================================================================================ -->
      <a class="nav-link" onclick="exeCallRefiller()" id="callrefiller" hidden>
        <div
          style="
            padding: 20px;
            box-shadow: 2px 6px 10px 2px rgb(215, 215, 215);
            border-radius: 8px;
          "
        >
          <img
            src="img/support.png"
            alt="Animated GIF"
            class="gif"
            id="nonLoopingGif"
          />
          <div style="color: black">Call Refiller</div>
        </div>
      </a>
      <!-- ================================================================================================================================ -->

      <a class="nav-link" onclick="exeStokOpname()" id="soK" hidden>
        <div
          style="
            padding: 20px;
            box-shadow: 2px 6px 10px 2px rgb(215, 215, 215);
            border-radius: 8px;
          "
        >
          <img
            src="img/warehouse.png"
            alt="Animated GIF"
            class="gif"
            id="nonLoopingGif"
          />
          <!-- <i
            class="fas fas fa-clipboard-list mb-2"
            style="font-size: 35px; color: black"
          ></i> -->
          <div style="color: black">CC Kartonan</div>
        </div>
      </a>
      <a class="nav-link" onclick="exeStokOpnameL()" id="soL" hidden>
        <div
          style="
            padding: 20px;
            box-shadow: 2px 6px 10px 2px rgb(215, 215, 215);
            border-radius: 8px;
          "
        >
          <img
            src="img/shelves.png"
            alt="Animated GIF"
            class="gif"
            id="nonLoopingGif"
          />
          <!-- <i
            class="fas fas fa-clipboard-list mb-2"
            style="font-size: 35px; color: black"
          ></i> -->
          <div style="color: black">CC Lepasan</div>
        </div>
      </a>
      <a class="nav-link" onclick="exeBarangBaru()" id="bb" hidden>
        <div
          style="
            padding: 20px;
            box-shadow: 2px 6px 10px 2px rgb(215, 215, 215);
            border-radius: 8px;
          "
        >
          <img
            src="img/brand.png"
            alt="Animated GIF"
            class="gif"
            id="nonLoopingGif"
          />
          <!-- <i
            class="fas fas fa-clipboard-list mb-2"
            style="font-size: 35px; color: black"
          ></i> -->
          <div style="color: black">Barang Baru</div>
        </div>
      </a>
      <a class="nav-link" onclick="exeCallCycleCount()" id="callCC" hidden>
        <div
          style="
            padding: 20px;
            box-shadow: 2px 6px 10px 2px rgb(215, 215, 215);
            border-radius: 8px;
          "
        >
          <img
            src="img/support.png"
            alt="Animated GIF"
            class="gif"
            id="nonLoopingGif"
          />
          <!-- <i
            class="far fa-paper-plane mb-2"
            style="font-size: 35px; color: black"
          ></i> -->
          <div style="color: black">Call Cycle Count</div>
        </div>
      </a>
      <a
        class="nav-link"
        onclick="exePindahLokasiKarton()"
        id="pindahlokasiK"
        hidden
      >
        <div
          style="
            padding: 20px;
            box-shadow: 2px 6px 10px 2px rgb(215, 215, 215);
            border-radius: 8px;
          "
        >
          <img
            src="img/transfer.png"
            alt="Animated GIF"
            class="gif"
            id="nonLoopingGif"
          />
          <!-- <i
            class="fa fa-exchange mb-2"
            style="font-size: 35px; color: black"
          ></i> -->
          <div style="color: black">Pindah Lokasi Ktn</div>
        </div>
      </a>
      <a class="nav-link" onclick="exePindahLokasi()" id="pindahlokasiL" hidden>
        <div
          style="
            padding: 20px;
            box-shadow: 2px 6px 10px 2px rgb(215, 215, 215);
            border-radius: 8px;
          "
        >
          <img
            src="img/transfer.png"
            alt="Animated GIF"
            class="gif"
            id="nonLoopingGif"
          />
          <!-- <i
            class="fa fa-exchange mb-2"
            style="font-size: 35px; color: black"
          ></i> -->
          <div style="color: black">Pindah Lokasi Lpsn</div>
        </div>
      </a>
      <a
        class="nav-link"
        onclick="exePindahLokasiJumlah()"
        id="pindahlokasiJ"
        hidden
      >
        <div
          style="
            padding: 20px;
            box-shadow: 2px 6px 10px 2px rgb(215, 215, 215);
            border-radius: 8px;
          "
        >
          <img
            src="img/transfer.png"
            alt="Animated GIF"
            class="gif"
            id="nonLoopingGif"
          />
          <!-- <i
            class="fa fa-exchange mb-2"
            style="font-size: 35px; color: black"
          ></i> -->
          <div style="color: black">Pindah Lokasi Jml</div>
        </div>
      </a>
      <a class="nav-link" onclick="exeToped()" id="toped" hidden>
        <div
          style="
            padding: 20px;
            box-shadow: 2px 6px 10px 2px rgb(215, 215, 215);
            border-radius: 8px;
          "
        >
          <img
            src="img/supermarket.png"
            alt="Animated GIF"
            class="gif"
            id="nonLoopingGif"
          />
          <!-- <i
            class="fas fa-store-slash mb-2"
            style="font-size: 35px; color: black"
          ></i> -->
          <div style="color: black">Online Shop</div>
        </div>
      </a>
      <a class="nav-link" onclick="exePurchasing()" id="purchasing" hidden>
        <div
          style="
            padding: 20px;
            box-shadow: 2px 6px 10px 2px rgb(215, 215, 215);
            border-radius: 8px;
          "
        >
          <i
            class="fas fa-cart-arrow-down mb-2"
            style="font-size: 35px; color: black"
          ></i>
          <div style="color: black">Purchasing Order</div>
        </div>
      </a>
      <a class="nav-link" onclick="exeInbound()" id="inbound" hidden>
        <div
          style="
            padding: 20px;
            box-shadow: 2px 6px 10px 2px rgb(215, 215, 215);
            border-radius: 8px;
          "
        >
          <img
            src="img/agv-robot.png"
            alt="Animated GIF"
            class="gif"
            id="nonLoopingGif"
          />
          <!-- <i
            class="fas fa-dolly-flatbed mb-2"
            style="font-size: 35px; color: black"
          ></i> -->
          <div style="color: black">Inbound</div>
        </div>
      </a>
      <a class="nav-link" onclick="exeInboundSJ()" id="inboundsj" hidden>
        <div
          style="
            padding: 20px;
            box-shadow: 2px 6px 10px 2px rgb(215, 215, 215);
            border-radius: 8px;
          "
        >
          <img
            src="img/agv-robot.png"
            alt="Animated GIF"
            class="gif"
            id="nonLoopingGif"
          />
          <!-- <i
            class="fas fa-dolly-flatbed mb-2"
            style="font-size: 35px; color: black"
          ></i> -->
          <div style="color: black">Inbound SJ</div>
        </div>
      </a>
      <a class="nav-link" onclick="exeDelivery()" id="delivery" hidden>
        <div
          style="
            padding: 20px;
            box-shadow: 2px 6px 10px 2px rgb(215, 215, 215);
            border-radius: 8px;
          "
        >
          <img
            src="img/delivery-truck.png"
            alt="Animated GIF"
            class="gif"
            id="nonLoopingGif"
          />
          <!-- <i
            class="fas fa-shipping-fast mb-2"
            style="font-size: 35px; color: black"
          ></i> -->
          <div style="color: black">Delivery</div>
        </div>
      </a>
      <a
        class="nav-link"
        onclick="exePenerimaanBarang()"
        id="penerimaan"
        hidden
      >
        <div
          style="
            padding: 20px;
            box-shadow: 2px 6px 10px 2px rgb(215, 215, 215);
            border-radius: 8px;
          "
        >
          <img
            src="img/storage.png"
            alt="Animated GIF"
            class="gif"
            id="nonLoopingGif"
          />
          <!-- <i
            class="fas fa-pallet mb-2"
            style="font-size: 35px; color: black"
          ></i> -->
          <div style="color: black">Penerimaan Barang</div>
        </div>
      </a>
      <a class="nav-link" onclick="exeDeliveryNew()" id="deliveryNew" hidden>
        <div
          style="
            padding: 20px;
            box-shadow: 2px 6px 10px 2px rgb(215, 215, 215);
            border-radius: 8px;
          "
        >
          <img
            src="img/delivery-truck.png"
            alt="Animated GIF"
            class="gif"
            id="nonLoopingGif"
          />
          <!-- <i
            class="fas fa-shipping-fast mb-2"
            style="font-size: 35px; color: black"
          ></i> -->
          <div style="color: black">Delivery New</div>
        </div>
      </a>
      <a class="nav-link" onclick="exeStokLokasi()" id="stokLokasi" hidden>
        <div
          style="
            padding: 20px;
            box-shadow: 2px 6px 10px 2px rgb(215, 215, 215);
            border-radius: 8px;
          "
        >
          <img
            src="img/info.png"
            alt="Animated GIF"
            class="gif"
            id="nonLoopingGif"
          />
          <!-- <i
            class="fas fa-bullhorn mb-2"
            style="font-size: 35px; color: black"
          ></i> -->
          <div style="color: black">Stok Lokasi</div>
        </div>
      </a>
      <a class="nav-link" onclick="exeEditSo()" id="editso" hidden>
        <div
          style="
            padding: 20px;
            box-shadow: 2px 6px 10px 2px rgb(215, 215, 215);
            border-radius: 8px;
          "
        >
          <img
            src="img/edit.png"
            alt="Animated GIF"
            class="gif"
            id="nonLoopingGif"
          />
          <!-- <i
            class="fas fa-cogs mb-2"
            style="font-size: 35px; color: black"
          ></i> -->
          <div style="color: black">Edit SO</div>
        </div>
      </a>
      <a class="nav-link" onclick="exeAdmin()" id="admin" hidden>
        <div
          style="
            padding: 20px;
            box-shadow: 2px 6px 10px 2px rgb(215, 215, 215);
            border-radius: 8px;
          "
        >
          <img
            src="img/user.gif"
            alt="Animated GIF"
            class="gif"
            id="nonLoopingGif"
          />
          <!-- <i class="fas fa-cogs mb-2" style="font-size: 35px; color: black"></i> -->
          <div style="color: black">Admin</div>
        </div>
      </a>

      <div></div>
    </div>
    <script>
      let xhr = new XMLHttpRequest();
      xhr.open("GET", UrlApi + "/nug_api/getLvlOpe?level=" + level);
      xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
      let data = "";
      //console.log(data)
      xhr.send(data);
      xhr.onload = function () {
        console.log(this.responseText);
        var obj = JSON.parse(this.responseText);
        var getData = obj.data.rows;
        dictData = getData.map((value) => {
          return {
            picking: value.picking,
            packing: value.packing,
            reffiler: value.reffiler,
            stok: value.stok,
            pindahLok: value.pindahlok,
            onlineShop: value.onlineshop,
            purchasing: value.purchasing,
            inbound: value.inbound,
            delivery: value.delivery,
            penerimaan: value.penerimaan,
            admin: value.admin,
            stoklokasi: value.stoklokasi,
            taskrefill: value.taskrefill,
          }; // ngisi semua data
        });
        if (dictData[0]["picking"] == 1) {
          document.getElementById("picking").hidden = false;
        }
        if (dictData[0]["packing"] == 1) {
          document.getElementById("packing").hidden = false;
        }
        if (dictData[0]["reffiler"] == 1) {
          document.getElementById("reffiler").hidden = false;
          document.getElementById("reffilerNew").hidden = false;
          document.getElementById("bb").hidden = false;
          if (dictData[0]["taskrefill"]) {
            document.getElementById("callrefiller").hidden = false;
            Swal.fire({
              title: "Task Refiller",
              text: "Ada Stok Kosong",
              icon: "info",
              confirmButtonText: "Ok",
            });
          }
        }
        if (dictData[0]["stok"] == 1) {
          document.getElementById("soK").hidden = false;
          document.getElementById("soL").hidden = false;
          document.getElementById("callCC").hidden = false;
          document.getElementById("bb").hidden = false;
        }
        if (dictData[0]["pindahLok"] == 1) {
          document.getElementById("pindahlokasiK").hidden = false;
          document.getElementById("pindahlokasiL").hidden = false;
          document.getElementById("pindahlokasiJ").hidden = false;
        }
        if (dictData[0]["onlineShop"] == 1) {
          document.getElementById("toped").hidden = false;
        }
        if (dictData[0]["purchasing"] == 1) {
          document.getElementById("purchasing").hidden = true;
        }
        if (dictData[0]["inbound"] == 1) {
          //document.getElementById("inbound").hidden = false;
          document.getElementById("inboundsj").hidden = false;
        }
        if (dictData[0]["delivery"] == 1) {
          document.getElementById("delivery").hidden = false;
          document.getElementById("deliveryNew").hidden = false;
        }
        if (dictData[0]["penerimaan"] == 1) {
          document.getElementById("penerimaan").hidden = false;
        }
        if (dictData[0]["admin"] == 1) {
          document.getElementById("admin").hidden = false;
          document.getElementById("editso").hidden = false;
        }
        if (dictData[0]["stoklokasi"] == 1) {
          document.getElementById("stokLokasi").hidden = false;
        }
      };
    </script>
  </body>
</html>
